<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#986DB2"><meta name="author" content="Sakura Yumine"><meta name="copyright" content="Sakura Yumine"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Jeecg-vue-tmpl 自用文档 | Himekana's</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/z/images/favicon.ico"><link rel="mask-icon" href="/z/images/favicon.ico" color="#986DB2"><link rel="alternate icon" href="/z/yun.ico"><link rel="preload" href="/z/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/z/js/utils.js" as="script"><link rel="preload" href="/z/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/z/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"asadahimeka.github.io","root":"/z/","title":"ヒメカナ","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"検索...","empty":"${query} が見つかりませんでした.","hits":"${hits} 件見つかりました","hits_time":"${hits} 件見つかりました, ${time} ミリ秒"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn?c=i","hitokoto":true},"local_search":{"path":"/z/search.xml"}};
  </script><link rel="stylesheet" href="/z/css/hexo-theme-yun.css"><script src="/z/js/utils.js"></script><script src="/z/js/hexo-theme-yun.js"></script><link rel="alternate" href="/z/atom.xml" title="Himekana's" type="application/atom+xml"><link rel="stylesheet" href="/z/css/custom.css"><script src="//at.alicdn.com/t/font_2598701_iaz8nhub3w.js" async></script><meta name="description" content="JeecgBoot 前端初始项目 改 自用文档">
<meta property="og:type" content="article">
<meta property="og:title" content="Jeecg-vue-tmpl 自用文档">
<meta property="og:url" content="https://asadahimeka.github.io/z/2021/06/08/jeecg-vue-tmpl-comp-doc/index.html">
<meta property="og:site_name" content="Himekana&#39;s">
<meta property="og:description" content="JeecgBoot 前端初始项目 改 自用文档">
<meta property="og:locale" content="ja_JP">
<meta property="article:published_time" content="2021-06-08T11:22:56.000Z">
<meta property="article:modified_time" content="2021-06-08T11:22:56.000Z">
<meta property="article:author" content="Sakura Yumine">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="Jeecg">
<meta name="twitter:card" content="summary"><script src="/z/js/ui/mode.js"></script><meta name="referrer" content="no-referrer"></head><body><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/z/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="見出し"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="概要"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/z/about/" title="Sakura Yumine"><img width="96" loading="lazy" src="/z/images/avatar.jpg" alt="Sakura Yumine"><span class="site-author-status" title="迷い込んだ">🌠</span></a><div class="site-author-name"><a href="/z/about/">Sakura Yumine</a></div><a class="site-name" href="/z/about/site.html">Himekana's</a><sub class="site-subtitle">Nanashi.</sub><div class="site-desciption">Nothing to say.</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/z/" title="ホーム"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/z/archives/" title="アーカイブ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><div class="site-state-item"><a href="/z/categories/" title="カテゴリ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">1</span></a></div><div class="site-state-item"><a href="/z/tags/" title="タグ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">19</span></a></div><a class="site-state-item hty-icon-button" href="/z/albums/" title="Albums"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-gallery-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/z/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://794545154.qzone.qq.com/" title="Qzone" target="_blank" style="color:#fbce00"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qzone"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/asadahimeka" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/smallstar9637" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=73306134" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/8051085" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://bgm.tv/user/234864" title="bangumi" target="_blank" style="color:#F09199"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-pgc_bangumi"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.coolapk.com/u/496417" title="酷安" target="_blank" style="color:#0f9d58"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-coolapk1"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.instagram.com/asadahimeka/" title="Instagram" target="_blank" style="color:#FF1F75"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-Instagramlogo"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/soigneehimeka" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/himekana" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:smallstar9637@yahoo.co.jp" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/z/bangumi/" title="My Bangumi List" style="color:#5db2e6"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-unordered"></use></svg></a><a class="links-item hty-icon-button" href="/z/girls/" title="Favorite Girls" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-%E8%84%9A%E6%9C%AC"><span class="toc-number">1.</span> <span class="toc-text">npm 脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96"><span class="toc-number">2.</span> <span class="toc-text">依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#moment-range"><span class="toc-number">2.1.</span> <span class="toc-text">moment-range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#numeral"><span class="toc-number">2.2.</span> <span class="toc-text">numeral</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-distpicker"><span class="toc-number">2.3.</span> <span class="toc-text">v-distpicker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-svg-loader"><span class="toc-number">2.4.</span> <span class="toc-text">vue-svg-loader</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%A8%A1%E6%9D%BF%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E9%A1%B5%E9%9D%A2%E6%96%87%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">根据模板自动生成页面文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JeecgListMixin"><span class="toc-number">4.</span> <span class="toc-text">JeecgListMixin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B7%E5%85%A5%E5%8F%98%E9%87%8F%E3%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">混入变量、方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SearchFilter-columns-%E9%85%8D%E7%BD%AE%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">SearchFilter &#x2F; columns 配置格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">自用组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PercentNum"><span class="toc-number">5.1.</span> <span class="toc-text">PercentNum</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-switch-%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84-switch-case"><span class="toc-number">5.2.</span> <span class="toc-text">v-switch: 模板中的 switch case</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">自用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#api-manage-js"><span class="toc-number">6.1.</span> <span class="toc-text">@&#x2F;api&#x2F;manage.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clipboard-%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC%E5%88%B0%E5%89%AA%E8%B4%B4%E6%9D%BF"><span class="toc-number">6.2.</span> <span class="toc-text">clipboard 复制文本到剪贴板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transDict-%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E7%BF%BB%E8%AF%91"><span class="toc-number">6.3.</span> <span class="toc-text">transDict 数据字典翻译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#checkPermission-%E6%A3%80%E6%9F%A5%E6%95%B0%E6%8D%AE%E6%9D%83%E9%99%90"><span class="toc-number">6.4.</span> <span class="toc-text">checkPermission 检查数据权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#storage-%E5%AD%98%E5%82%A8%E7%9B%B8%E5%85%B3%E5%B0%81%E8%A3%85"><span class="toc-number">6.5.</span> <span class="toc-text">storage 存储相关封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#utils-index-js"><span class="toc-number">6.6.</span> <span class="toc-text">@&#x2F;utils&#x2F;index.js</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://asadahimeka.github.io/z/z/2021/06/08/jeecg-vue-tmpl-comp-doc/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Sakura Yumine"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Himekana's"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Jeecg-vue-tmpl 自用文档</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="作成日：2021-06-08 19:22:56" itemprop="dateCreated datePublished" datetime="2021-06-08T19:22:56+08:00">2021-06-08</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="単語数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="単語数">2.2k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="読書の時間"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="読書の時間">11m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/z/categories/Jeecg/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Jeecg</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/z/tags/JavaScript/" style="--text-color:#FC9F4D"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">JavaScript</span></a><a class="tag-item" href="/z/tags/Vue/" style="--text-color:#4fc08d"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Vue</span></a><a class="tag-item" href="/z/tags/Jeecg/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Jeecg</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#986DB2;"><p>JeecgBoot 前端初始项目 改 自用文档</p>
<span id="more"></span>

<h2 id="npm-脚本"><a href="#npm-脚本" class="headerlink" title="npm 脚本"></a>npm 脚本</h2><ul>
<li><code>yarn serve</code>:  启动本地开发服务，并将地址复制到剪贴板</li>
<li><code>yarn deploy</code>:  编译打包并部署（外网部署）</li>
<li><code>yarn build</code>:  编译打包为生产文件</li>
<li><code>yarn rsync</code>:  通过 rsync 部署文件到服务器（需要 WSL/Linux 环境支持）</li>
<li><code>yarn scp</code>:  通过 scp 部署文件到服务器</li>
<li><code>yarn build:repo</code>:  打包时生成报告文件帮助分析文件大小情况</li>
<li><code>yarn lint</code>:  运行 eslint 校验并修复可以自动修复的错误</li>
<li><code>yarn lint:nofix</code>:  只运行 eslint 校验不修复错误</li>
<li><code>yarn preview</code>:  本地预览打包完的 dist 文件夹</li>
<li><code>yarn instal</code>:  安装依赖（使用淘宝源）</li>
</ul>
<h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><h3 id="moment-range"><a href="#moment-range" class="headerlink" title="moment-range"></a>moment-range</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> extendMoment <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'moment-range'</span>
<span class="token keyword">const</span> momentRange <span class="token operator">=</span> <span class="token function">extendMoment</span><span class="token punctuation">(</span>moment<span class="token punctuation">)</span> <span class="token comment">// 扩展 moment</span>
<span class="token keyword">const</span> rangeMap <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token string">'day'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> unit<span class="token operator">:</span> <span class="token string">'days'</span><span class="token punctuation">,</span> format<span class="token operator">:</span> <span class="token string">'YYYY-MM-DD'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string">'week'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> unit<span class="token operator">:</span> <span class="token string">'weeks'</span><span class="token punctuation">,</span> format<span class="token operator">:</span> <span class="token string">'YYYY-w'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string">'month'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> unit<span class="token operator">:</span> <span class="token string">'months'</span><span class="token punctuation">,</span> format<span class="token operator">:</span> <span class="token string">'YYYY-M'</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 图表开发过程中，API 返回结果中缺失一些没有纵轴数据的横坐标，如下进行补零操作，不然会影响图表趋势</span>
<span class="token comment">// momentRange.range([起始日期，结束日期]).by（日期单位） 进行这一区间的日期迭代</span>
<span class="token comment">// range 的返回结果可使用 for of 进行迭代，也可转为数组进行迭代</span>
<span class="token comment">// 具体文档见 https://github.com/rotaready/moment-range</span>
<span class="token keyword">function</span> <span class="token function">setBarData</span><span class="token punctuation">(</span>d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> date <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">'day'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> dk <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">[</span>cur<span class="token punctuation">.</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> cur<span class="token punctuation">)</span><span class="token punctuation">,</span> acc<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">&#123;</span> unit<span class="token punctuation">,</span> format <span class="token punctuation">&#125;</span> <span class="token operator">=</span> rangeMap<span class="token punctuation">[</span>type<span class="token punctuation">]</span>
  Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>momentRange<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span>unit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span>
    <span class="token keyword">let</span> item <span class="token operator">=</span> dk<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">&#123;</span> x<span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span>
    res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="numeral"><a href="#numeral" class="headerlink" title="numeral"></a>numeral</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> numeral <span class="token keyword">from</span> <span class="token string">'numeral'</span>
<span class="token comment">// 使用 numeral 进行精确计算</span>
<span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span> <span class="token operator">===</span> <span class="token number">0.3</span> <span class="token comment">// false</span>
<span class="token function">numeral</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0.3</span> <span class="token comment">// true</span></code></pre>

<h3 id="v-distpicker"><a href="#v-distpicker" class="headerlink" title="v-distpicker"></a>v-distpicker</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-distpicker</span> <span class="token attr-name">:province</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>model.province<span class="token punctuation">"</span></span> <span class="token attr-name">:city</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>model.cityArea<span class="token punctuation">"</span></span> <span class="token attr-name">:area</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>model.counties<span class="token punctuation">"</span></span> <span class="token attr-name">@selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onAreaSelected<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      model<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        province<span class="token operator">:</span> <span class="token string">''</span>
        cityArea<span class="token operator">:</span> <span class="token string">''</span>
        counties<span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function">onAreaSelected</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>province<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 省</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>city<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 市</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>area<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 区</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h3 id="vue-svg-loader"><a href="#vue-svg-loader" class="headerlink" title="vue-svg-loader"></a>vue-svg-loader</h3><p>svg 图标文件均置于 <code>@/icons</code> 下</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-icon</span> <span class="token attr-name">:component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MyIcon<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyIcon <span class="token keyword">from</span> <span class="token string">'@/icons/MyIcon.svg'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      MyIcon
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="根据模板自动生成页面文件"><a href="#根据模板自动生成页面文件" class="headerlink" title="根据模板自动生成页面文件"></a>根据模板自动生成页面文件</h2><p>在 <code>scripts/comp.list</code> 填写页面名称，换行分隔，运行  <code>node scripts/generate</code> 会根据以下模板生成文件到 <code>@/views/ab</code> 文件夹</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-card</span> <span class="token attr-name">:bordered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>search-filter</span> <span class="token attr-name">:form</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryParam<span class="token punctuation">"</span></span> <span class="token attr-name">:fields</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>searchCols<span class="token punctuation">"</span></span> <span class="token attr-name">@search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>searchQuery<span class="token punctuation">"</span></span> <span class="token attr-name">@reset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>searchReset<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table-operator<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>plus<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>新增<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-table</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aTableProps<span class="token punctuation">"</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTableChange<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-card</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> JeecgListMixin<span class="token punctuation">,</span> dealCols <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/mixins/JeecgListMixin'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">'TempNameListPlaceholder'</span><span class="token punctuation">,</span>
  mixins<span class="token operator">:</span> <span class="token punctuation">[</span>JeecgListMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      columns<span class="token operator">:</span> <span class="token function">dealCols</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token comment">// title, dateIndex, __filter, customRender, &#123; others &#125;,</span>
        <span class="token punctuation">[</span><span class="token string">'#'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'字段 1'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'字段 2'</span><span class="token punctuation">,</span> <span class="token string">'keyWord'</span><span class="token punctuation">,</span> <span class="token string">'num'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'字段 3'</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'select'</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'字段 4'</span><span class="token punctuation">,</span> <span class="token string">'createTime'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> _fType<span class="token operator">:</span> <span class="token string">'daterange'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      url<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        list<span class="token operator">:</span> <span class="token string">'/test/jeecgDemo/list'</span><span class="token punctuation">,</span>
        <span class="token keyword">delete</span><span class="token operator">:</span> <span class="token string">'/test/jeecgDemo/delete'</span><span class="token punctuation">,</span>
        deleteBatch<span class="token operator">:</span> <span class="token string">'/test/jeecgDemo/deleteBatch'</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre>

<h2 id="JeecgListMixin"><a href="#JeecgListMixin" class="headerlink" title="JeecgListMixin"></a>JeecgListMixin</h2><p>具体可查看 <code>@/mixins/JeecgListMixin.js</code> 源码了解可用变量与函数或自己改写</p>
<h3 id="混入变量、方法"><a href="#混入变量、方法" class="headerlink" title="混入变量、方法"></a>混入变量、方法</h3><ul>
<li><p><code>this.selectedRowKeys</code> :  table 选中行的 keys/ids</p>
</li>
<li><p><code>this.selectionRows</code> :  table 选中行数据</p>
</li>
<li><p><code>this.extraParams</code> :  额外的查询条件</p>
</li>
<li><p><code>this.doMixinCreated</code>:  true 的话自动执行 created 钩子中的 loadData</p>
</li>
<li><p><code>this.loadData(args)</code>: 列表数据加载方法，args 传 1 的话加载第一页内容</p>
</li>
<li><p><code>this.selAll()</code>:  选择当页全部行</p>
</li>
<li><p><code>this.clearSel()</code>:  取消全选</p>
</li>
<li><p><code>this.getSelRows()</code>:  获取所选行 <code>&#123; rows, keys &#125;</code></p>
</li>
<li><p><code>this.setSelRows(rows)</code>:  设置所选行</p>
</li>
<li><p><code>this.checkOneSel(callback)</code>: 检查是否选择了一条记录</p>
</li>
</ul>
<h3 id="SearchFilter-columns-配置格式"><a href="#SearchFilter-columns-配置格式" class="headerlink" title="SearchFilter / columns 配置格式"></a>SearchFilter / columns 配置格式</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span> 字段名称，字段名字，是否为筛选项，自定义渲染方法，<span class="token punctuation">&#123;</span> <span class="token operator">...</span> 其他配置 <span class="token punctuation">&#125;</span> <span class="token punctuation">]</span></code></pre>

<ul>
<li><p>具体参数可查阅 <code>@/components/SearchFilter/index.vue</code> 源码查看</p>
</li>
<li><p>是否为筛选项 可填 <code>boolean</code>/<code>string</code> /<code>array</code>，<br>​如 <code>true</code>, <code>&#39;date&#39;</code>,<code>[&#39;select&#39;, &#39;sex&#39;]</code></p>
</li>
<li><p>填 <code>true</code> 默认为模糊查询文本类型，即最终处理为如 *qwe* 的格式；</p>
</li>
<li><p>字符串可选类型有 select / date / select2 / daterange / num / numrange / input / custom</p>
<ul>
<li>选 select 时需传入数据字典 code， 如<code>[&#39;select&#39;, &#39;sex&#39;]</code></li>
<li>选 select2 时需传入下拉选择项列表，如 <code>[&#39;字段 1&#39;, &#39;name&#39;, &#39;select2&#39;, null, &#123; _fOptions: this.someOptions &#125;] </code>，<br>下拉列表数据需遵循如 <code>[&#123; label: &#39;label&#39;, value: &#39;value&#39; &#125;]</code> 格式</li>
<li>对于其他类型可在组件源码中自行加入，或使用 custom 类型<br>如： <code>[&#39;字段 1&#39;, &#39;name&#39;, &#39;custom&#39;, null, &#123; _fSlotName: &#39;slotName&#39; &#125;]</code><br>模板中 :<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>search-filter</span> <span class="token attr-name">...</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#slotName</span><span class="token punctuation">></span></span>自定义内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>search-filter</span><span class="token punctuation">></span></span></code></pre></li>
</ul>
</li>
<li><p>自定义渲染方法 接受参数 <code>(text, record) =&gt; &#39;处理结果&#39;</code></p>
<p> <code>text</code> 为当前数据值，<code>record</code> 为当前行数据</p>
</li>
</ul>
<h2 id="自用组件"><a href="#自用组件" class="headerlink" title="自用组件"></a>自用组件</h2><h3 id="PercentNum"><a href="#PercentNum" class="headerlink" title="PercentNum"></a>PercentNum</h3><p>输入时输入百分数，自动将 value 转为对应小数值</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>percent-num</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span> <span class="token attr-name">:max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>

<h3 id="v-switch-模板中的-switch-case"><a href="#v-switch-模板中的-switch-case" class="headerlink" title="v-switch: 模板中的 switch case"></a>v-switch: 模板中的 switch case</h3><p>使用方法</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-switch</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token punctuation">></span></span>默认后备内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#qwe</span><span class="token punctuation">></span></span>value 为 qwe 时的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#asd</span><span class="token punctuation">></span></span>value 为 asd 时的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-switch</span><span class="token punctuation">></span></span></code></pre>

<p>源码：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- File: `v-switch.vue` --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">'VSwitch'</span><span class="token punctuation">,</span>
  functional<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    value<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      type<span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">,</span> Number<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> data<span class="token punctuation">,</span> props<span class="token punctuation">,</span> scopedSlots <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> value <span class="token punctuation">&#125;</span> <span class="token operator">=</span> props
    <span class="token keyword">const</span> slotFn <span class="token operator">=</span> value <span class="token keyword">in</span> scopedSlots <span class="token operator">?</span> scopedSlots<span class="token punctuation">[</span>value<span class="token punctuation">]</span> <span class="token operator">:</span> scopedSlots<span class="token punctuation">.</span>default

    <span class="token keyword">return</span> slotFn <span class="token operator">?</span> <span class="token function">slotFn</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="自用函数"><a href="#自用函数" class="headerlink" title="自用函数"></a>自用函数</h2><h3 id="api-manage-js"><a href="#api-manage-js" class="headerlink" title="@/api/manage.js"></a>@/api/manage.js</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// Get 请求</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getAction</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> parameter</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// Post 请求</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">postAction</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> parameter<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// Put 请求</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">putAction</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> parameter <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// Delete 请求</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deleteAction</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> parameter<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// 下载文件 用于 excel 导出</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">downFile</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> parameter</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// 下载文件</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> parameter</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// 文件上传 用于富文本上传图片</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">uploadAction</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> parameter</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Res<span class="token operator">></span>

<span class="token comment">// 获取文件服务访问路径</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getFileAccessHttpUrl</span><span class="token punctuation">(</span>avatar<span class="token punctuation">,</span> subStr <span class="token operator">=</span> <span class="token string">'http'</span><span class="token punctuation">)</span><span class="token operator">:</span> string

<span class="token comment">// 导出（后端生成）文件用</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getBlob</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Blob<span class="token operator">></span></code></pre>

<h3 id="clipboard-复制文本到剪贴板"><a href="#clipboard-复制文本到剪贴板" class="headerlink" title="clipboard 复制文本到剪贴板"></a>clipboard 复制文本到剪贴板</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// text：要复制的文本，event：点击或其他事件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">handleClipboard</span><span class="token punctuation">(</span>text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> event<span class="token operator">:</span> Event<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span></code></pre>

<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> clip <span class="token keyword">from</span> <span class="token string">'@/utils/clipboard'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      columns<span class="token operator">:</span> <span class="token function">dealCols</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'下载地址'</span><span class="token punctuation">,</span> <span class="token string">'downloadUrl'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token parameter">t</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>span<span class="token operator">></span>
          <span class="token operator">&lt;</span>AButton title<span class="token operator">=</span><span class="token string">'复制'</span> icon<span class="token operator">=</span><span class="token string">'copy'</span> onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">clip</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="transDict-数据字典翻译"><a href="#transDict-数据字典翻译" class="headerlink" title="transDict 数据字典翻译"></a>transDict 数据字典翻译</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// value: 要翻译的值，code: 数据字典 code</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">transDict</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> code<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span></code></pre>

<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> transDict <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/utils/dicts'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      columns<span class="token operator">:</span> <span class="token function">dealCols</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'任务类型'</span><span class="token punctuation">,</span> <span class="token string">'mainType'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token parameter">v</span> <span class="token operator">=></span> <span class="token function">transDict</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token string">'main_task_type'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="checkPermission-检查数据权限"><a href="#checkPermission-检查数据权限" class="headerlink" title="checkPermission 检查数据权限"></a>checkPermission 检查数据权限</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// value：数据权限标识 </span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">checkPermission</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span></code></pre>

<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-card</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ckp(<span class="token punctuation">'</span>form:can:edit<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>需要进行权限处理的地方<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-card</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> checkPermission <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/utils/hasPermission'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    ckp<span class="token operator">:</span> checkPermission
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h3 id="storage-存储相关封装"><a href="#storage-存储相关封装" class="headerlink" title="storage 存储相关封装"></a>storage 存储相关封装</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> $ls<span class="token punctuation">,</span> storage<span class="token punctuation">,</span> storageSess <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/utils/storage'</span>
<span class="token comment">// vue-ls</span>
$ls<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">)</span>
$ls<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
$ls<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">)</span>
$ls<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// localStorage</span>
storage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">)</span>
storage<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
storage<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">)</span>
storage<span class="token punctuation">.</span><span class="token function">clearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// sessionStorage</span>
storageSess<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">)</span>
storageSess<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
storageSess<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'USER_INFO'</span><span class="token punctuation">)</span>
storageSess<span class="token punctuation">.</span><span class="token function">clearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<h3 id="utils-index-js"><a href="#utils-index-js" class="headerlink" title="@/utils/index.js"></a>@/utils/index.js</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 判断 val 是否为 null 或 undefined 或 空字符串</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">isNUE</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span>

<span class="token comment">// 判断 n 是否为数字</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">isNumeric</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span>

<span class="token comment">/**
 * 判断 fields 中的字段是否有空值
 * @param &#123;any[]&#125; fields - the fields to check
 * @param &#123;object&#125; ctx - use this when `fields` is a string array
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">notFulfill</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ctx<span class="token operator">:</span> object<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span>

<span class="token comment">//  一言 随机古诗词</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">hitokoto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span>

<span class="token comment">/**
 * 树形结构转为数组形式
 * @param &#123;[]&#125; tree
 * @param &#123;string&#125; key 子节点的 key，默认 *children*
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">treeToArr</span><span class="token punctuation">(</span>tree <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">'children'</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">/**
 * 列表转树
 * @param &#123;[]&#125; arr
 * @param &#123;string&#125; pidKey 指向父节点 id 的 key，默认为 *pid*
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">arrToTree</span><span class="token punctuation">(</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pidKey <span class="token operator">=</span> <span class="token string">'pid'</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// 下载文件 **非同源文件会在新标签页打开**</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">downloadFile</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>

<span class="token comment">// 下载文件，blob 保存方式</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">saveBlob</span><span class="token punctuation">(</span>data<span class="token operator">:</span> Blob<span class="token punctuation">,</span> fileName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span>

<span class="token comment">// 处理 emoji 显示问题</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">decodeName</span><span class="token punctuation">(</span>val <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

<span class="token comment">// Promise.allSettled polyfill</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">allSettled</span><span class="token punctuation">(</span>promises<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// 拷贝文本到剪贴板，只在用户触发动作时有用（比如在点击事件监听器内）</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">copyToClipboard</span><span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>

<span class="token comment">// 时间段格式化 输入 formatDuration(218923) 结果 "3 分，38 秒，923 毫秒"</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formatDuration</span><span class="token punctuation">(</span>ms<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

<span class="token comment">// Generates an array with the given amount of items, using the given function.</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">generateItems</span><span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// 生成随机字符串</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createUniqueString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

<span class="token comment">// Returns a random string with the specified length.</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">randomAlphaNumeric</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

<span class="token comment">// Returns an object containing the parameters of the current URL.</span>
<span class="token comment">// 获取 url 参数</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getURLParameters</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token operator">:</span>

<span class="token comment">// Returns a query string generated from the key-value pairs of the given object.</span>
<span class="token comment">// 对象转 URL 参数字符串</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">objectToQueryString</span><span class="token punctuation">(</span>queryParameters<span class="token operator">:</span> object<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

<span class="token comment">//  Generates a UUID in a browser.Use crypto API to generate a UUID, compliant with RFC4122 version 4.</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">generateUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

<span class="token comment">/**
 * 将数组分为指定长度的更小数组
 * Chunks an array into smaller arrays of a specified size.
 * If the original array can't be split evenly,
 * the final chunk will contain the remaining elements.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">chunk</span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">/**
 * 将数组分为 n 个更小数组
 * Chunks an array into n smaller arrays.
 * If the original array can't be split evenly,
 * the final chunk will contain the remaining elements.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">chunkIntoN</span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// 平滑滚动到页面顶部</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">scrollToTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>

<span class="token comment">/**
 * 模糊搜索
 * Returns true if needle matches haystack using a fuzzy-searching algorithm.
 * The method will return true only if each character in the needle can be found in the haystack
 * and occurs after the preceding character.
 * @see https://www.npmjs.com/package/fuzzysearch
 * @param &#123;string&#125; needle query word
 * @param &#123;string&#125; haystack where to find
 * @returns whether if needle matches haystack
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fuzzysearch</span><span class="token punctuation">(</span>needle<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> haystack<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span></code></pre>

<hr>
<p><em>fin.</em></p>
</div></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/z/2021/06/08/jeecg-vue-tmpl-desc/" rel="next" title="Jeecg-vue-tmpl 相关说明"><span class="post-nav-text">Jeecg-vue-tmpl 相关说明</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2017 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-heart-line"></use></svg></span><span class="author"> Sakura Yumine</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#986DB2" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="検索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/z/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="検索..." value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4","5-12","9-18","12-13"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div></body></html>